---
title: "p8105_hw2_mjn2142"
author: "Matthew Neky"
date: "10/5/2021"
output: github_document
---

```{r setup}
library(tidyverse)
```


### Problem 1



```{r, message = FALSE}
trash_wheel_data = readxl::read_excel("./trash_wheel.xlsx", sheet = "Mr. Trash Wheel") %>%
  janitor::clean_names() %>%
  select(dumpster:homes_powered, -month, -year, -date) %>%
  na.omit() %>% 
  mutate(
    sports_balls = round(sports_balls, digits = 0)
  )
```


### Problem 2

## Cleaning pols-month data

```{r}
pols_month_data = read_csv("./fivethirtyeight_datasets/pols-month.csv") %>% 
  separate(
    col = mon,
    into = c('year', 'month', 'day'),
    sep = '-',
    remove = TRUE,
    convert = TRUE,
    extra = 'warn',
    fill = 'warn'
  ) %>% 
  mutate(
    month = month.abb[month],
    president = recode(prez_gop, '1' = "gop", '0' = "dem")
    ) %>% 
  select(-day, -prez_gop, -prez_dem)
```

## Clean snp data

```{r}
snp_data = read_csv("./fivethirtyeight_datasets/snp.csv") %>% 
  mutate(
    lubridate::mdy(date)
  ) %>% 
  separate(
    col = 'lubridate::mdy(date)',
    into = c('year', 'month', 'day'),
    sep = '-',
    remove = TRUE,
    convert = TRUE,
    extra = 'warn',
    fill = 'warn'
  ) %>% 
  relocate(year, month, day) %>% 
    mutate(
      month = month.abb[month]
    ) %>% 
  select(-date)
```

## Clean unemployment data

```{r}
unemployment_data = read_csv("./fivethirtyeight_datasets/unemployment.csv") %>% 
  pivot_longer(
    Jan:Dec,
    names_to = "month",
    values_to = "unemployment_level"
  ) %>% 
  rename(year = Year)
```

## Join datasets

```{r}
pols_snp_joined = 
  full_join(pols_month_data, snp_data, by = "year", "month")

join_final =
  full_join(pols_snp_joined, unemployment_data, by = "year", "month")
```

Dataset Discussion: The three datasets were merged by year and month, with the other columns not in common being contained in the final data set, but areas where the data do not nearly overlap have NA's listed. There are 83,256 rows and 14 columns. The first dataset contains information on political makeups of the US government during various periods of time. The second shows stock value for Standard and Poor. The third dataset contains unemployment levels across time. These datasets can be merged because they share temporal values, but the other columns are entirely different. The years range from 1947 to 2014. Important variables include GOP representatives and Democratic representatives, closing, and unemployment.
