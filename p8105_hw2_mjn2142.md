p8105\_hw2\_mjn2142
================
Matthew Neky
10/5/2021

``` r
library(tidyverse)
```

    ## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──

    ## ✓ ggplot2 3.3.5     ✓ purrr   0.3.4
    ## ✓ tibble  3.1.4     ✓ dplyr   1.0.7
    ## ✓ tidyr   1.1.3     ✓ stringr 1.4.0
    ## ✓ readr   2.0.1     ✓ forcats 0.5.1

    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## x dplyr::filter() masks stats::filter()
    ## x dplyr::lag()    masks stats::lag()

### Problem 1

``` r
trash_wheel_data = readxl::read_excel("./trash_wheel.xlsx", sheet = "Mr. Trash Wheel") %>%
  janitor::clean_names() %>%
  select(dumpster:homes_powered, -month, -year, -date) %>%
  na.omit() %>% 
  mutate(
    sports_balls = round(sports_balls, digits = 0)
  )
```

### Problem 2

## Cleaning pols-month data

``` r
pols_month_data = read_csv("./fivethirtyeight_datasets/pols-month.csv") %>% 
  separate(
    col = mon,
    into = c('year', 'month', 'day'),
    sep = '-',
    remove = TRUE,
    convert = TRUE,
    extra = 'warn',
    fill = 'warn'
  ) %>% 
  mutate(
    month = month.abb[month],
    president = recode(prez_gop, '1' = "gop", '0' = "dem")
    ) %>% 
  select(-day, -prez_gop, -prez_dem)
```

    ## Rows: 822 Columns: 9

    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon

    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

    ## Warning: Unreplaced values treated as NA as .x is not compatible. Please specify
    ## replacements exhaustively or supply .default

## Clean snp data

``` r
snp_data = read_csv("./fivethirtyeight_datasets/snp.csv") %>% 
  mutate(
    lubridate::mdy(date)
  ) %>% 
  separate(
    col = 'lubridate::mdy(date)',
    into = c('year', 'month', 'day'),
    sep = '-',
    remove = TRUE,
    convert = TRUE,
    extra = 'warn',
    fill = 'warn'
  ) %>% 
  relocate(year, month, day) %>% 
    mutate(
      month = month.abb[month],
      year = if_else(year > 2021, year - 100, as.numeric(year))
    ) %>% 
  select(-date)
```

    ## Rows: 787 Columns: 2

    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (1): date
    ## dbl (1): close

    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

## Clean unemployment data

``` r
unemployment_data = read_csv("./fivethirtyeight_datasets/unemployment.csv") %>% 
  pivot_longer(
    Jan:Dec,
    names_to = "month",
    values_to = "unemployment_level"
  ) %>% 
  rename(year = Year)
```

    ## Rows: 68 Columns: 13

    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl (13): Year, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec

    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

## Join datasets

``` r
pols_snp_joined = 
  inner_join(pols_month_data, snp_data, by = c("year" = "year", "month" = "month"))

join_final =
  inner_join(pols_snp_joined, unemployment_data, by = c("year" = "year", "month" = "month"))
```

Dataset Discussion: The three datasets were merged by year and month in
an inner join so only rows where all three datasets had information for
shared years and month are shown. There are 786 rows and 12 columns. The
first dataset contains information on political makeups of the US
government during various periods of time. The second shows stock value
for Standard and Poor. The third dataset contains unemployment levels
across time. These datasets can be merged because they share temporal
values, and together they can elucidate a clearer political-economic
understanding of a specific month and year in history. The years range
from 1947 to 2015. Important variables include GOP representatives and
Democratic representatives, closing, and unemployment.These show how
political power, stock prices, and unemployment are connected.

### Problem 3

Read in and tidy baby names data

``` r
baby_names = read_csv("./Popular_Baby_Names.csv") %>% 
  janitor::clean_names() %>% 
  mutate(
    ethnicity = replace(ethnicity, ethnicity == "ASIAN AND PACI", "ASIAN AND PACIFIC ISLANDER"),
    ethnicity = replace(ethnicity, ethnicity == "BLACK NON HISP", "BLACK NON HISPANIC"),
    ethnicity = replace(ethnicity, ethnicity == "WHITE NON HISP", "WHITE NON HISPANIC")
  )
```

    ## Rows: 19418 Columns: 6

    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (3): Gender, Ethnicity, Child's First Name
    ## dbl (3): Year of Birth, Count, Rank

    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
